<div class="container mx-auto my-8 p-6 bg-white rounded-2xl shadow-xl">
  <h1 class="text-4xl font-extrabold text-center text-gray-900 mb-8">Nuestra Carta</h1>
  <div class="flex flex-col sm:flex-row justify-center sm:justify-start items-center gap-4 mb-8">
    <%= link_to "Agregar elemento al Menú", new_menu_item_path, class: "flex-grow sm:flex-grow-0 w-full sm:w-auto py-3 px-6 bg-green-600 hover:bg-green-700 text-white font-bold rounded-lg shadow-md hover:shadow-lg transition duration-300 ease-in-out transform hover:-translate-y-0.5 text-center" %>
    <%= button_tag "Gestionar Agregados", type: "button", 
          class: "flex-grow sm:flex-grow-0 w-full sm:w-auto py-3 px-6 bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-lg shadow-md hover:shadow-lg transition duration-300 ease-in-out transform hover:-translate-y-0.5 text-center",
          data: { action: "click->modal#show click->addons#loadInitialData" } %> 
  </div>
  <%= search_form_for @q, url: menu_items_path, method: :get, html: { class: "mb-6 flex flex-col sm:flex-row gap-3 items-center", data: { controller: "search", search_target: "form" } } do |f| %>
    <div class="relative flex-grow w-full">
      <%= f.search_field :name_cont, class: "w-full px-5 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-3 focus:ring-blue-400 focus:border-blue-500 transition duration-200 text-gray-800 shadow-sm", placeholder: "Buscar por nombre...", data: { action: "input->search#search", search_target: "input" } %>
      <div class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none">
        <svg class="h-5 w-5 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
        </svg>
      </div>
    </div>
    <div class="flex gap-3 w-full sm:w-auto">
      <button type="submit" class="w-full sm:w-auto py-2 px-5 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg shadow-md transition duration-200">Buscar</button>
      <%= link_to "Limpiar", menu_items_path, class: "w-full sm:w-auto py-2 px-5 bg-gray-500 hover:bg-gray-600 text-white font-semibold rounded-lg shadow-md transition duration-200 text-center" %>
    </div>
  <% end %>
  <div class="overflow-x-auto rounded-lg shadow-lg">
    <table class="min-w-full divide-y divide-gray-200">
      <thead class="bg-gray-800">
        <tr>
          <th scope="col" class="px-6 py-3 text-left text-xs font-bold text-white uppercase tracking-wider">Item</th>
          <th scope="col" class="px-6 py-3 text-left text-xs font-bold text-white uppercase tracking-wider">Nombre</th>
          <th scope="col" class="px-6 py-3 text-left text-xs font-bold text-white uppercase tracking-wider">Precio</th>
          <th scope="col" class="px-6 py-3 text-right text-xs font-bold text-white uppercase tracking-wider">Acciones</th>
        </tr>
      </thead>
      <tbody class="bg-white divide-y divide-gray-200">
        <% @menu_items.each_with_index do |menu_item, index| %>
          <tr class="hover:bg-gray-50">
            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-800"><%= index + 1 + ((@menu_items.current_page - 1) * @menu_items.limit_value) %></td>
            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600 hover:text-blue-800">
              <%= link_to menu_item.name, edit_menu_item_path(menu_item), class: "hover:underline" %>
            </td>
            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-800">$<%= number_to_currency(menu_item.price, unit: "", delimiter: ".", precision: 0) %></td>
            <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
              <% unless menu_item.sell_material.present? %>
                <%= form_with url: menu_item_path(menu_item), method: :delete, data: { turbo: false }, class: "inline-block ml-3" do %>
                  <%= button_tag "Eliminar", class: "py-2 px-4 bg-red-600 hover:bg-red-700 text-white font-semibold rounded-lg shadow-md transition duration-200", onclick: "return confirm('¿Estás seguro?');" %>
                <% end %>
              <% end %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
  <div class="flex justify-center mt-8">
    <%= paginate @menu_items %>
  </div>
</div>

<%= render partial: 'menu_items/shared/addon_modal' %>