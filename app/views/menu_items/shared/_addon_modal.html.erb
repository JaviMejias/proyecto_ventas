<div class="modal fade" id="addonsModal" tabindex="-1" aria-labelledby="addonsModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="addonsModalLabel">Agregar Nuevos Agregados</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body" data-controller="addons">
        <%= form_with(url: addons_path, remote: true, id: "new-addon-form", data: { action: "submit->addons#submitForm", addons_target: "form" }) do |form| %>
          <div id="addon-rows" data-addons-target="addonRows">
            <div class="addon-row mb-3 d-flex align-items-center">
              <%= text_field_tag "addon[names][]", nil, placeholder: "Nombre del Agregado", class: "form-control me-2 addon-name-field", required: true %>
              <button type="button" class="btn btn-danger btn-sm remove-addon-row" data-action="click->addons#removeRow">Eliminar</button>
            </div>
          </div>
          <div class="d-flex justify-content-between my-3">
            <button type="button" class="btn btn-secondary" id="add-addon-row" data-action="click->addons#addRow">AÃ±adir otro agregado</button>
            <%= form.submit "Guardar", class: "btn btn-primary" %>
          </div>
        <% end %>
        <hr>
        <h5>Lista de Agregados</h5>
        <input type="text" class="form-control mb-3" placeholder="Buscar agregado por nombre..." data-addons-target="searchField">
        <div id="addons-table" data-addons-target="table">
        </div>
      </div>
    </div>
  </div>
</div>
